<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedPredict â€“ Multi-Disease AI Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    
    <header class="tomato-header">
        <div class="container">
            <div class="header-inner">
<a href="#" class="logo">
    <img src="{{ url_for('static', filename='logo.png') }}" alt="MedPredict Logo" class="logo-image">
    <span class="logo-text">MedPredict</span>
</a>
                <nav class="tomato-nav">
                    <a href="#how-it-works">How it Works</a>
                    <a href="#analysis">Try Prediction</a>
                    <a href="#cta-banner">About</a>
                </nav>
            </div>
        </div>
    </header>

    <section id="hero" class="hero">
        <div class="container">
            <div class="hero-grid">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1 class="hero-title">Predict Major Health Risks</h1>
                        <p class="hero-description">
                         Multi-disease risk prediction platform that helps you assess your likelihood of Diabetes, Heart, Kidney, and Liver diseases. 
                         Enter your health metrics and get instant, easy-to-understand results.
                        </p>

                    </div>
                    <div class="hero-buttons">
                        <a href="#analysis" class="try-analysis">Try Prediction âœ</a>
                    </div>
                </div>

<div class="hero-images">
    <div class="image-grid">
        <div class="image-card image-card-tall image-card-green">
            <img src="{{ url_for('static', filename='Image1.png') }}" alt="Medical image 1: Healthy" class="card-image">
            <div class="image-label">Healthy</div>
        </div>
        <div class="image-card image-card-short image-card-empty">
            <img src="{{ url_for('static', filename='Image2.png') }}" alt="Medical image 2: In Process" class="card-image">
        </div>
        <div class="image-card image-card-short image-card-empty">
            <img src="{{ url_for('static', filename='Image3.png') }}" alt="Medical image 3: Check-up" class="card-image">
        </div>
        <div class="image-card image-card-tall image-card-red">
            <img src="{{ url_for('static', filename='Image4.png') }}" alt="Medical image 4: Growing Risk" class="card-image">
            <div class="image-label">Predict</div>
        </div>
    </div>
</div>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon-wrapper">
                        <svg class="feature-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
                    </div>
                    <div class="feature-text">
                        <h3>Multi-Disease Prediction</h3>
<p class="feature-description">
    Predict your risk for Diabetes, Heart, Kidney, and Liver diseases using validated predictive models.
</p>
                    </div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-wrapper">
                        <svg class="feature-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                    </div>
                    <div class="feature-text">
<h3>Instant Results</h3>
<p class="feature-description">
    Get clear, numerical risk scores within seconds after entering your health data.
</p>
                    </div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-wrapper">
                        <svg class="feature-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
                    </div>
                    <div class="feature-text">
<h3>User-Friendly Interface</h3>
<p class="feature-description">
    Intuitive and easy-to-use forms designed for anyone to input health metrics and understand results.
</p>
                    </div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-wrapper">
                        <svg class="feature-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
                    </div>
                    <div class="feature-text">
<h3>Track & Analyze</h3>
<p class="feature-description">
    View your risk patterns, track previous submissions, and monitor changes over time.
</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="analysis" class="section prediction-section">
        <div class="container main-prediction-container">
            <div class="prediction-app-header">
                <h2>Multi-Disease Prediction</h2>
                <p>Use our machine learning models to predict the risk of major chronic diseases.</p>
            </div>
<header class="simple-model-header">
    <nav class="simple-model-nav">
<a href="javascript:void(0)" class="simple-nav-item active" onclick="showPredictSection()">
            <svg class="simple-nav-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
            <span>Predict</span>
        </a>
<a href="javascript:void(0)" class="simple-nav-item" onclick="loadSection('dashboard')">
    <svg class="simple-nav-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
    <span>Dashboard</span>
</a>
<a href="javascript:void(0)" class="simple-nav-item" onclick="loadSection('models')">
            <svg class="simple-nav-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"/><path d="M12 4a8 8 0 0 0 8 8 8 8 0 0 0-8 8V4z"/></svg>
            <span>Models</span>
        </a>
    </nav>
</header>

<div id="content-container" class="content-wrapper">
                <div class="form-card card">
                    <div class="card-header">
                        <svg class="header-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14c-4.418 0-8 2.015-8 4.5V20h16v-1.5c0-2.485-3.582-4.5-8-4.5z"/>
                        </svg>
                        <h2 class="header-title">Patient Information</h2>
                    </div>

<form action="/predict#analysis" method="post" id="diseaseForm" novalidate>
                            <div id="form-pages">
                            <div class="form-page" data-page="0">
<div class="page-header nav-header">
    <button type="button" class="form-nav-btn prev-btn" onclick="navigateForm(-1)">
        <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <div class="page-title">
        <h3 id="disease-name">Diabetes</h3> </div>
    <button type="button" class="form-nav-btn next-btn" onclick="navigateForm(1)">
        <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
    </button>
</div>       
<div class="input-grid">
    <label><span>Gender (0=F, 1=M)</span>
        <input type="number" name="Gender" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('Gender', '1') }}">
    </label>
    <label><span>Age (years)</span>
        <input type="number" name="Age" min="0" max="120" step="1" placeholder="e.g. 0-120" required value="{{ request.form.get('Age', '35') }}">
    </label>
    <label><span>Blood Pressure (mmHg)</span>
        <input type="number" name="BloodPressure" min="70" max="200" step="1" placeholder="70-200" required value="{{ request.form.get('BloodPressure', '120') }}">
    </label>
    <label><span>Pregnancies</span>
        <input type="number" name="Pregnancies" min="0" max="20" step="1" placeholder="0-20" required value="{{ request.form.get('Pregnancies', '2') }}">
    </label>
    <label><span>Glucose (mg/dL)</span>
        <input type="number" name="Glucose" min="70" max="200" step="1" placeholder="70-200" required value="{{ request.form.get('Glucose', '110') }}">
    </label>
    <label><span>Skin Thickness (mm)</span>
        <input type="number" name="SkinThickness" min="10" max="50" step="1" placeholder="10-50" required value="{{ request.form.get('SkinThickness', '25') }}">
    </label>
    <label><span>Insulin (ÂµU/mL)</span>
        <input type="number" name="Insulin" min="15" max="276" step="1" placeholder="15-276" required value="{{ request.form.get('Insulin', '90') }}">
    </label>
    <label><span>BMI</span>
        <input type="number" name="BMI" min="15" max="50" step="0.1" placeholder="15-50" required value="{{ request.form.get('BMI', '28.5') }}">
    </label>
    <label><span>Diabetes Pedigree Function</span>
        <input type="number" name="DiabetesPedigreeFunction" min="0" max="2.5" step="0.01" placeholder="0-2.5" required value="{{ request.form.get('DiabetesPedigreeFunction', '0.45') }}">
    </label>
</div>
</div>

                            <div class="form-page hidden" data-page="1">
<div class="page-header nav-header">
    <button type="button" class="form-nav-btn prev-btn" onclick="navigateForm(-1)">
        <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <div class="page-title">
        <h3 id="disease-name">Heart Disease</h3> </div>
    <button type="button" class="form-nav-btn next-btn" onclick="navigateForm(1)">
        <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
    </button>
</div>                             
<div class="input-grid">
    <label><span>Age (auto-filled)</span>
        <input type="number" name="age" readonly value="{{ request.form.get('Age', 30) }}">
    </label>
    <label><span>Sex (auto-filled)</span>
        <input type="number" name="sex" readonly value="{{ request.form.get('Gender', 1) }}">
    </label>
    <label><span>Chest Pain Type (CP)</span>
        <input type="number" name="cp" min="0" max="3" step="1" placeholder="0-3" required value="{{ request.form.get('cp', '1') }}">
    </label>
    <label><span>Resting BP (trestbps)</span>
        <input type="number" name="trestbps" min="90" max="180" step="1" placeholder="90-180" required value="{{ request.form.get('trestbps', '130') }}">
    </label>
    <label><span>Cholesterol (chol)</span>
        <input type="number" name="chol" min="100" max="600" step="1" placeholder="100-600" required value="{{ request.form.get('chol', '250') }}">
    </label>
    <label><span>Fasting Blood Sugar >120 (fbs)</span>
        <input type="number" name="fbs" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('fbs', '0') }}">
    </label>
    <label><span>Resting ECG (restecg)</span>
        <input type="number" name="restecg" min="0" max="2" step="1" placeholder="0-2" required value="{{ request.form.get('restecg', '1') }}">
    </label>
    <label><span>Max Heart Rate (thalach)</span>
        <input type="number" name="thalach" min="60" max="200" step="1" placeholder="60-200" required value="{{ request.form.get('thalach', '150') }}">
    </label>
    <label><span>Exercise Angina (exang)</span>
        <input type="number" name="exang" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('exang', '0') }}">
    </label>
    <label><span>Oldpeak (ST depression)</span>
        <input type="number" name="oldpeak" min="0" max="6" step="0.1" placeholder="0-6" required value="{{ request.form.get('oldpeak', '1.0') }}">
    </label>
    <label><span>Slope of ST segment</span>
        <input type="number" name="slope" min="0" max="2" step="1" placeholder="0-2" required value="{{ request.form.get('slope', '1') }}">
    </label>
    <label><span>Num. Major Vessels (ca)</span>
        <input type="number" name="ca" min="0" max="3" step="1" placeholder="0-3" required value="{{ request.form.get('ca', '0') }}">
    </label>
    <label><span>Thalassemia (thal)</span>
        <input type="number" name="thal" min="1" max="3" step="1" placeholder="1-3" required value="{{ request.form.get('thal', '2') }}">
    </label>
</div>
                            </div>
                            
<div class="form-page hidden" data-page="2">
<div class="page-header nav-header">
    <button type="button" class="form-nav-btn prev-btn" onclick="navigateForm(-1)">
        <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <div class="page-title">
        <h3 id="disease-name">Kidney Disease</h3> </div>
    <button type="button" class="form-nav-btn next-btn" onclick="navigateForm(1)">
        <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
    </button>
</div>                               
<div class="input-grid">
    <input type="hidden" name="age" id="kidney_age">
    <input type="hidden" name="bp" id="kidney_bp">
    <label><span>Specific Gravity (sg)</span>
        <input type="number" name="sg" min="1.005" max="1.030" step="0.001" placeholder="1.005-1.030" required value="{{ request.form.get('sg', '1.020') }}">
    </label>
    <label><span>Albumin (al)</span>
        <input type="number" name="al" min="0" max="5" step="1" placeholder="0-5" required value="{{ request.form.get('al', '1') }}">
    </label>
    <label><span>Sugar (su)</span>
        <input type="number" name="su" min="0" max="5" step="1" placeholder="0-5" required value="{{ request.form.get('su', '0') }}">
    </label>
    <label><span>Red Blood Cells (rbc) (0=normal, 1=abnormal)</span>
        <input type="number" name="rbc" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('rbc', '0') }}">
    </label>
    <label><span>Pus Cell (pc) (0=normal, 1=abnormal)</span>
        <input type="number" name="pc" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('pc', '0') }}">
    </label>
    <label><span>Pus Cell Clumps (pcc) (0=not present, 1=present)</span>
        <input type="number" name="pcc" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('pcc', '0') }}">
    </label>
    <label><span>Bacteria (ba) (0=not present, 1=present)</span>
        <input type="number" name="ba" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('ba', '0') }}">
    </label>
    <label><span>Blood Glucose Random (bgr)</span>
    <input type="number" name="bgr" min="50" max="500" step="1" placeholder="50-500" required value="{{ request.form.get('bgr', '120') }}">
    </label>
    <label><span>Blood Urea (bu)</span>
    <input type="number" name="bu" min="5" max="200" step="1" placeholder="5-200" required value="{{ request.form.get('bu', '20') }}">
    </label>
    <label><span>Serum Creatinine (sc)</span>
    <input type="number" name="sc" min="0.3" max="20.0" step="0.1" placeholder="0.3-20.0" required value="{{ request.form.get('sc', '1.0') }}">
    </label>
    <label><span>Sodium (sod)</span>
    <input type="number" name="sod" min="120" max="160" step="1" placeholder="120-160" required value="{{ request.form.get('sod', '138') }}">
    </label>
    <label><span>Potassium (pot)</span>
    <input type="number" name="pot" min="2.5" max="8.0" step="0.1" placeholder="2.5-8.0" required value="{{ request.form.get('pot', '4.5') }}">
    </label>
    <label><span>Hemoglobin (hemo)</span>
    <input type="number" name="hemo" min="5" max="20" step="0.1" placeholder="5-20" required value="{{ request.form.get('hemo', '13.5') }}">
    </label>
    <label><span>Packed Cell Volume (pcv)</span>
    <input type="number" name="pcv" min="15" max="60" step="1" placeholder="15-60" required value="{{ request.form.get('pcv', '40') }}">
    </label>
    <label><span>White Blood Cell Count (wc)</span>
    <input type="number" name="wc" min="4000" max="12000" step="1" placeholder="4000-12000" required value="{{ request.form.get('wc', '8000') }}">
    </label>
    <label><span>Red Blood Cell Count (rc)</span>
    <input type="number" name="rc" min="3" max="6" step="0.1" placeholder="3-6" required value="{{ request.form.get('rc', '5.0') }}">
    </label>
    <label><span>Hypertension (htn) (0=no, 1=yes)</span>
    <input type="number" name="htn" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('htn', '1') }}">
    </label>
    <label><span>Diabetes Mellitus (dm) (0=no, 1=yes)</span>
    <input type="number" name="dm" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('dm', '1') }}">
    </label>
    <label><span>Coronary Artery Disease (cad) (0=no, 1=yes)</span>
    <input type="number" name="cad" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('cad', '0') }}">
    </label>
    <label><span>Appetite (appet) (0=poor, 1=good)</span>
    <input type="number" name="appet" min="0" max="1" step="1" placeholder="0=poor, 1=good" required value="{{ request.form.get('appet', '1') }}">
    </label>
    <label><span>Pedal Edema (pe) (0=no, 1=yes)</span>
    <input type="number" name="pe" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('pe', '0') }}">
    </label>
    <label><span>Anemia (ane) (0=no, 1=yes)</span>
    <input type="number" name="ane" min="0" max="1" step="1" placeholder="0 or 1" required value="{{ request.form.get('ane', '1') }}">
    </label>
</div>
</div>
                            
<div class="form-page hidden" data-page="3">
<div class="page-header nav-header">
    <button type="button" class="form-nav-btn prev-btn" onclick="navigateForm(-1)">
        <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <div class="page-title">
        <h3 id="disease-name">Liver Disease</h3> </div>
    <button type="button" class="form-nav-btn next-btn" onclick="navigateForm(1)">
        <svg class="nav-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
    </button>
</div>                
 <div class="input-grid">
    <input type="hidden" name="Age_Liver" id="liver_age">
    <input type="hidden" name="Gender_Liver" id="liver_gender">
    <label><span>Total Bilirubin (TB)</span>
<input type="number" name="Total_Bilirubin" min="0.1" max="50.0" step="0.1" placeholder="0.1-50.0" required value="{{ request.form.get('Total_Bilirubin', '1.0') }}">
    </label>
    <label><span>Direct Bilirubin (DB)</span>
    <input type="number" name="Direct_Bilirubin" min="0" max="25.0" step="0.1" placeholder="0-25.0" required value="{{ request.form.get('Direct_Bilirubin', '0.2') }}">
    </label>
    <label><span>Alkaline Phosphatase (Alkphos)</span>
    <input type="number" name="Alkaline_Phosphotase" min="45" max="1000" step="1" placeholder="45-1000" required value="{{ request.form.get('Alkaline_Phosphotase', '100') }}">
    </label>
    <label><span>SGPT (Sgpt)</span>
    <input type="number" name="Alamine_Aminotransferase" min="5" max="1000" step="1" placeholder="5-1000" required value="{{ request.form.get('Alamine_Aminotransferase', '35') }}">
    </label>
    <label><span>SGOT (Sgot)</span>
    <input type="number" name="Aspartate_Aminotransferase" min="5" max="1000" step="1" placeholder="5-1000" required value="{{ request.form.get('Aspartate_Aminotransferase', '30') }}">
    </label>
    <label><span>Total Protein (TP)</span>
    <input type="number" name="Total_Protiens" min="3" max="10" step="0.1" placeholder="3-10" required value="{{ request.form.get('Total_Protiens', '6.5') }}">
    </label>
    <label><span>Albumin (ALB)</span>
    <input type="number" name="Albumin" min="1" max="6" step="0.1" placeholder="1-6" required value="{{ request.form.get('Albumin', '3.5') }}">
    </label>
    <label><span>Albumin/Globulin Ratio (A_G)</span>
    <input type="number" name="Albumin_and_Globulin_Ratio" min="0.3" max="3.0" step="0.1" placeholder="0.3-3.0" required value="{{ request.form.get('Albumin_and_Globulin_Ratio', '1.2') }}">
    </label>
</div>
</div>
</div>
                        
<button type="submit" id="predict-btn" class="hidden"></button>
    <div class="predict-btn-wrapper">
    <button type="button" id="predict-btn-display" onclick="submitCurrentForm()">
        Predict Liver Disease
    </button>
</div>
</form>
</div>

<div class="result-card card">
    <h2 class="header-title">Prediction Results</h2>
        <div class="prediction-results">
            {% if predictions %}
<h3 class="result-title">Top Disease Predictions:</h3>
<ul class="result-list">
{% for disease, prob in predictions %}
{% set icon = "" %}
{% if disease == "Heart Disease" %}
  {% set icon = '<img class="disease-icon" src="https://cdn-icons-png.flaticon.com/512/8730/8730487.png" width="20" height="20" alt="Heart Disease Icon">' %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% elif disease == "Diabetes" %}
  {% set icon = '<img class="disease-icon" src="https://cdn-icons-png.flaticon.com/512/8730/8730535.png" width="20" height="20" alt="Diabetes Icon">' %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% elif disease == "Kidney Disease" %}
  {% set icon = '<img class="disease-icon" src="https://cdn-icons-png.flaticon.com/512/6903/6903893.png" width="20" height="20" alt="Kidney Disease Icon">' %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% elif disease == "Liver Disease" %}
  {% set icon = '<img class="disease-icon" src="https://cdn-icons-png.flaticon.com/512/6903/6903962.png" width="20" height="20" alt="Liver Disease Icon">' %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% else %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% set icon = '' %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <li class="result-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â {{ icon | safe }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="disease-name">{{ disease }}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="prediction-prob">
                                        {{ prob[0] }}%
    <br>
    <span class="risk-label" style="color:
        {% if prob[1] == 'High Risk' %}#e63946
        {% elif prob[1] == 'Moderate Risk' %}#ffb703
        {% else %}#2a9d8f{% endif %};
    ">
        {{ prob[1] }}
    </span>
</span>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â {% endfor %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </ul>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% else %}
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
                            <p class="text-muted">Enter patient information and click "Predict" to see results</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="dynamic-content"></div>
    <section id="how-it-works" class="how-it-works">
        <div class="container">
            <div class="section-header">
                <h2>How It Works</h2>
<p>Our system uses advanced machine learning models to predict Diabetes, Heart, Kidney, and Liver disease risks with high accuracy, helping you monitor your health.</p>
            </div>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-icon-wrapper"><svg class="step-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/></svg></div>
                    <div class="step-text"><h3>Capture Data</h3><p class="step-description">Collect the required health metrics (e.g., Blood Pressure, Glucose) for the specific disease model.</p></div>
                </div>
                <div class="step-card">
                    <div class="step-icon-wrapper"><svg class="step-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg></div>
                    <div class="step-text"><h3>ML Analysis</h3><p class="step-description">Our trained machine learning model analyzes the patient data for risk factors and markers.</p></div>
                </div>
                <div class="step-card">
                    <div class="step-icon-wrapper"><svg class="step-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg></div>
                    <div class="step-text"><h3>Risk Prediction</h3><p class="step-description">Get instant risk scores (e.g., Diabetic/Non-Diabetic, High/Low Risk) with confidence metrics.</p></div>
                </div>
                <div class="step-card">
                    <div class="step-icon-wrapper"><svg class="step-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg></div>
                    <div class="step-text"><h3>Consultation</h3><p class="step-description">Use the results to facilitate further discussion and early intervention with a medical professional.</p></div>
                </div>
            </div>

            <div class="cta-banner" id="cta-banner">
    <img src="{{ url_for('static', filename='bigi.jpg') }}" alt="Data-Driven Prediction Image">
                <div class="cta-banner-overlay">
                    <div class="cta-banner-content">
                        <h3>Data-Driven Prediction</h3>
                        <p>Uses trained health models to provide quick and reliable multi-disease risk assessments.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-inner">
                <div class="footer-grid">
                    <div class="footer-section">
<a href="#" class="logo">
    <img src="{{ url_for('static', filename='logo.png') }}" alt="MedPredict Logo" class="logo-image">
    <span class="logo-text">MedPredict</span>
</a>
                        <p style="font-size: 0.875rem; color: var(--muted-foreground);">
Empowering patients and doctors with ML-based multi-disease risk prediction technology.
                        </p>
                    </div>
                    <div class="footer-section"><h4>Product</h4><ul><li><a href="#">Features</a></li><li><a href="#">Pricing</a></li><li><a href="#">API</a></li></ul></div>
                    <div class="footer-section"><h4>Support</h4><ul><li><a href="#">Documentation</a></li><li><a href="#">Help Center</a></li><li><a href="#">Contact</a></li></ul></div>
                    <div class="footer-section"><h4>Company</h4><ul><li><a href="#">About</a></li><li><a href="#">Blog</a></li><li><a href="#">Careers</a></li></ul></div>
                </div>

                <div class="footer-bottom">
                    <p>Â© 2025 MedPredict. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
<script>
function initPredictionForm() {
    let currentPageIndex = 0;
    const formPages = document.querySelectorAll('.form-page');
    const totalPages = formPages.length;
    const predictSubmitButton = document.getElementById('predict-btn'); 
    const predictDisplayButton = document.getElementById('predict-btn-display'); 
    const diseases = ["Diabetes", "Heart Disease", "Kidney Disease", "Liver Disease"];

    function updateFormVisibility() {
        formPages.forEach((page, index) => {
            if (index === currentPageIndex) {
                page.classList.remove('hidden');
                const diseaseNameElement = page.querySelector('#disease-name');
                if (diseaseNameElement) {
                    diseaseNameElement.textContent = diseases[currentPageIndex];
                }
                updateNavigationButtons(page);
            } else {
                page.classList.add('hidden');
            }
        });

        if (currentPageIndex === totalPages - 1) {
            predictDisplayButton.style.display = 'inline-block';
            predictDisplayButton.textContent = `Predict Diseases`;
        } else {
            predictDisplayButton.style.display = 'none';
        }
    }

    function updateNavigationButtons(activePage) {
        const prevBtn = activePage.querySelector('.prev-btn');
        const nextBtn = activePage.querySelector('.next-btn');

        if (prevBtn) {
            prevBtn.disabled = currentPageIndex === 0;
            prevBtn.classList.toggle('disabled', currentPageIndex === 0);
        }

        if (nextBtn) {
            nextBtn.disabled = currentPageIndex === totalPages - 1;
            nextBtn.classList.toggle('disabled', currentPageIndex === totalPages - 1);
        }
    }

    window.navigateForm = function(direction) {
        const newIndex = currentPageIndex + direction;
        if (newIndex >= 0 && newIndex < totalPages) {
            currentPageIndex = newIndex;
            updateFormVisibility();
        }
    }

window.submitCurrentForm = function() {
    const hiddenRequired = document.querySelectorAll('.form-page.hidden input[required]');
    hiddenRequired.forEach(input => {
        input.dataset.wasRequired = "true";
        input.removeAttribute('required');
    });
    predictSubmitButton.click();
    setTimeout(() => {
        hiddenRequired.forEach(input => {
            input.setAttribute('required', '');
            delete input.dataset.wasRequired;
        });
    }, 500);
}


    updateFormVisibility();
}

document.addEventListener("DOMContentLoaded", initPredictionForm);
</script>

<script>
function loadSection(section) {
    const container = document.getElementById("content-container");
    container.style.opacity = "0.3";
    container.style.transition = "opacity 0.3s ease";

    document.querySelectorAll(".simple-nav-item").forEach(link => link.classList.remove("active"));
    const clicked = document.querySelector(`[onclick="loadSection('${section}')"]`);
    if (clicked) clicked.classList.add("active");

    window.history.pushState({ section }, "", `/${section}`);

fetch(`/partials/${section}`)
        .then(response => response.text())
        .then(html => {
            container.innerHTML = html;
            container.style.opacity = "1";
            container.scrollIntoView({ behavior: "smooth" });

            if (section === "dashboard") {
                const cssPath = "{{ url_for('static', filename='dashboard.css') }}";
                if (![...document.styleSheets].some(s => s.href && s.href.includes('dashboard.css'))) {
                    const link = document.createElement("link");
                    link.rel = "stylesheet";
                    link.href = cssPath;
                    document.head.appendChild(link);
                    console.log("Dashboard CSS loaded dynamically");
                }
            }
if (section === "models") {
    const cssPath = "{{ url_for('static', filename='models.css') }}";
    if (![...document.styleSheets].some(s => s.href && s.href.includes('models.css'))) {
        const link = document.createElement("link");
        link.rel = "stylesheet";
        link.href = cssPath;
        document.head.appendChild(link);
        console.log("Models CSS loaded dynamically");
    }
}

            const scripts = container.querySelectorAll("script");
            scripts.forEach(oldScript => {
                const newScript = document.createElement("script");
                if (oldScript.src) newScript.src = oldScript.src;
                else newScript.textContent = oldScript.textContent;
                document.body.appendChild(newScript);
            });

 console.log("Section loaded:", section);

setTimeout(() => {
    try {
        if (section === "models" && typeof initializeModelSorting === "function") {
            console.log("ğŸ” Initializing Models Sorting...");
            initializeModelSorting();
        }

        if (section === "dashboard" && typeof initializeDashboardCharts === "function") {
            console.log("ğŸ“Š Initializing Dashboard Charts...");
            initializeDashboardCharts();
        }
    } catch (err) {
        console.error("âš ï¸ Error while initializing section:", err);
    }
}, 300);

        })
        .catch(err => {
            console.error("âŒ Error loading section:", err);
            container.innerHTML = "<p style='color:red;'>Failed to load section.</p>";
        });
}

window.addEventListener("popstate", (event) => {
    if (event.state && event.state.section) {
        loadSection(event.state.section);
    }
});

document.addEventListener("DOMContentLoaded", () => {
    const path = window.location.pathname.replace("/", "").trim();
    if (path === "dashboard") {
        loadSection("dashboard");
    } else if (path === "models") {
        loadSection("models");
    }
});

</script>
<script>
function showPredictSection() {
    document.querySelectorAll(".simple-nav-item").forEach(link => link.classList.remove("active"));
    const predictLink = document.querySelector(`[onclick="showPredictSection()"]`);
    if (predictLink) predictLink.classList.add("active");

    const baseURL = window.location.origin;
    fetch(baseURL + "/")
        .then(res => res.text())
        .then(html => {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, "text/html");
            const newContent = doc.querySelector("#content-container");
            const container = document.getElementById("content-container");

            if (newContent && container) {
                container.innerHTML = newContent.innerHTML;
                initPredictionForm();
                history.pushState(null, "", baseURL + "/#analysis");
                setTimeout(() => {
                    const analysis = document.querySelector("#analysis");
                    if (analysis) analysis.scrollIntoView({ behavior: "smooth" });
                }, 300);

                console.log("Predict section reloaded and initialized");
            }
        })
        .catch(err => console.error("Failed to reload predict section:", err));
}
</script>
<script>
window.addEventListener('load', function() {
    if (document.querySelector('#diseaseForm')) {
        initPredictionForm();
        console.log("Form reinitialized after prediction reload");
    }
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const genderInput = document.querySelector('input[name="Gender"]');
    const pregInput = document.querySelector('input[name="Pregnancies"]');
    function updatePregnancyField() {
        const gender = Number(genderInput.value);
        if (gender === 1) { 
            pregInput.value = 0;
            pregInput.disabled = true;
            pregInput.style.backgroundColor = "#eee";  // optional styling
        } else {
            pregInput.disabled = false;
            pregInput.min = 0;
            pregInput.max = 15;
            pregInput.style.backgroundColor = ""; 
        }
    }
    updatePregnancyField();
    genderInput.addEventListener("change", updatePregnancyField);
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const genderMain = document.querySelector('input[name="Gender"]');
    const ageMain = document.querySelector('input[name="Age"]');
    const bpMain = document.querySelector('input[name="BloodPressure"]');

    const heartAge = document.querySelector('input[name="age"]');
    const heartSex = document.querySelector('input[name="sex"]');

    const kidneyAge = document.getElementById("kidney_age");
    const kidneyBP = document.getElementById("kidney_bp");
    
    const liverAge = document.getElementById("liver_age");
    const liverGender = document.getElementById("liver_gender");
    function updateSharedFields() {
        if (heartAge) heartAge.value = ageMain.value;
        if (heartSex) heartSex.value = genderMain.value;
        if (kidneyAge) kidneyAge.value = ageMain.value;
        if (kidneyBP) kidneyBP.value = bpMain.value;
        if (liverAge) liverAge.value = ageMain.value;
        if (liverGender) liverGender.value = genderMain.value;
    }
    updateSharedFields();
    genderMain.addEventListener("input", updateSharedFields);
    ageMain.addEventListener("input", updateSharedFields);
    bpMain.addEventListener("input", updateSharedFields);
});
</script>
</body>
</html>